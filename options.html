<!DOCTYPE html>
<html ng-app="envi" ng-csp>
<head lang="en">

    <link href="css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="css/main.css" rel="stylesheet" type="text/css">

    <script type="application/javascript" src="js/jquery-1.11.2.js"></script>
    <script type="application/javascript" src="js/lodash.js"></script>

    <script type="application/javascript" src="js/angular.min.js"></script>
    <script type="application/javascript" src="js/main.js"></script>

</head>
<body id="options" ng-controller="domainManagerCtrl as ctrl">
<div class="container">
    <h3>Envi Options</h3>
    <hr>
    <ul id="menu" class="list-unstyled">

        <li>
            <form name="addForm" class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label">Url<span class="required">*</span></label>

                    <div class="col-sm-10">
                        <input ng-model="ctrl.newUrl" class="form-control input-md" required
                               placeholder="http:// or https://" >
                    </div>
                </div>
                <div class="col-sm-2"></div>
                <div class="col-sm-10">
                    <div class="bg-danger" ng-show="ctrl.Error">{{ctrl.Error}}</div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label">Label<span class="required">*</span></label>

                    <div class="col-sm-5">
                        <input class="form-control input-md" ng-model="ctrl.newLabel" required
                               placeholder="e.g., Production">
                    </div>
                    <div class="col-sm-5">
                        <select ng-model="ctrl.newLabelStyle" class="label-{{ctrl.newLabelStyle}} form-control domain ">
                            <option ng-repeat="lbl in ctrl.labels" value="{{lbl}}" class="label label-{{lbl}}">{{lbl}}
                            </option>
                        </select>
                    </div>
                </div>

            </form>

            <div class="btn btn-primary" ng-click="ctrl.addDomain()" id="add-url"><i
                    class="glyphicon glyphicon-plus-sign"></i>Add
            </div>
        </li>
    </ul>
    <h4>Environment Domains</h4>
    <hr>
    <div ng-hide="ctrl.domains.length">
        <i>No domains have been added.</i>
    </div>
    <ul id="domains" class="list-unstyled" ng-show="ctrl.domains.length">
        <li ng-repeat="domain in ctrl.domains track by $index">
            <span class="col-sm-2 label label-{{domain.style}}">{{domain.label}}</span>
            <span class="col-sm-2" >[<a href='{{domain.url.origin}}'>{{domain.url.origin}}</a>]</span>
            <span class="col-sm-1 glyphicon glyphicon-remove-circle" ng-click="ctrl.remove(domain)"></span>
            <span class="clearfix"></span>
        </li>
    </ul>
</div>
</body>
</html>